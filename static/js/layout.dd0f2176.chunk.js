(this["webpackJsonpreact-ant-admin"]=this["webpackJsonpreact-ant-admin"]||[]).push([[4],{183:function(e,t,n){e.exports=n.p+"static/media/user.bbb60c89.jpg"},184:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var a=n(42),o=n(27),l=n(28),r=n(33),c=n(32),i=n(0),u=n.n(i),s=n(4),m=n(47),p=n(351),h=n(355),d=n(366),g=n(43),b=[{key:"/index",title:"\u9996\u9875",icon:"HomeOutlined",auth:[1]},{title:"\u901a\u7528",key:"/public",icon:"appstore",auth:[1],subs:[{title:"\u6309\u94ae",key:"/public/button",icon:""},{title:"\u56fe\u6807",key:"/public/icon",icon:""}]},{title:"\u5bfc\u822a",key:"/nav",icon:"AppstoreOutlined",subs:[{title:"\u4e0b\u62c9\u83dc\u5355",key:"/nav/dropdown",icon:""},{title:"\u5bfc\u822a\u83dc\u5355",key:"/nav/menu",icon:""},{title:"\u6b65\u9aa4\u6761",key:"/nav/steps",icon:""}]},{title:"\u8868\u5355",key:"/form",icon:"FormOutlined",subs:[{title:"\u57fa\u7840\u8868\u5355",key:"/form/base-form",icon:""},{title:"\u6b65\u9aa4\u8868\u5355",key:"/form/step-form",icon:""}]},{title:"\u5c55\u793a",key:"/show",icon:"BarsOutlined",subs:[{title:"\u8868\u683c",key:"/show/table",icon:""},{title:"\u6298\u53e0\u9762\u677f",key:"/show/collapse",icon:""},{title:"\u6811\u5f62\u63a7\u4ef6",key:"/show/tree",icon:""},{title:"\u6807\u7b7e\u9875",key:"/show/tabs",icon:""}]},{title:"\u5f02\u5e38\u9875\u9762",key:"/exception",icon:"AlertOutlined",auth:[1],subs:[{title:"404",key:"/404",icon:""},{title:"500",key:"/500",icon:""},{title:"\u4e8c\u7ea7",key:"/exception/2",icon:"",subs:[{title:"\u4e09\u7ea7",key:"/exception/2/403",icon:""}]}]},{title:"\u5173\u4e8e",key:"/about",icon:"ProfileOutlined",auth:[1]}],f=n(183),E=n.n(f),y=(n(184),n(362)),v=n(352),k=n(353),O=n(368),x=n(365),I=n(354),K=n(370),j=n(371),S=n(372),w=n(373),C=n(374),N=n(375),M=n(376),L=p.a.Header;var T=u.a.memo((function(e){var t=e.menuClick,n=e.menuToggle,a=e.loginOut,o=u.a.createElement(y.a,null,u.a.createElement(y.a.ItemGroup,{title:"\u7528\u6237\u8bbe\u7f6e"},u.a.createElement(y.a.Divider,null),u.a.createElement(y.a.Item,null,u.a.createElement(K.a,null),"\u4e2a\u4eba\u8bbe\u7f6e"),u.a.createElement(y.a.Item,null,u.a.createElement(j.a,null),"\u7cfb\u7edf\u8bbe\u7f6e")),u.a.createElement(y.a.Divider,null),u.a.createElement(y.a.Item,null,u.a.createElement("span",{onClick:a},u.a.createElement(S.a,null),"\u9000\u51fa\u767b\u5f55")));return u.a.createElement(L,{className:"app-header"},u.a.createElement(v.a,null,u.a.createElement(k.a,{span:12},u.a.createElement(n?w.a:C.a,{className:"side-trigger",onClick:t})),u.a.createElement(k.a,{span:12,className:"header-right"},u.a.createElement("div",{className:"github-btn btn-item"},u.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/niexias/react-ant-admin",target:"_blank"},u.a.createElement(N.a,null))),u.a.createElement("div",{className:"notify-btn btn-item"},u.a.createElement(O.a,{dot:!0},u.a.createElement("a",{href:"/#/index"},u.a.createElement(M.a,null)))),u.a.createElement("div",{className:"user-btn btn-item"},u.a.createElement(x.a,{overlay:o,trigger:"['click']"},u.a.createElement(I.a,{style:{backgroundColor:"#87d068"},icon:u.a.createElement(K.a,null)}))))))})),D=n(45),A=n(36),F=n(377),H=n(378),U=n(379),J=n(380),B=n(381),P=n(382),R=n(383),_={HomeOutlined:u.a.createElement(F.a,null),AppstoreOutlined:u.a.createElement(H.a,null),BarsOutlined:u.a.createElement(U.a,null),FormOutlined:u.a.createElement(J.a,null),ProfileOutlined:u.a.createElement(B.a,null),AlertOutlined:u.a.createElement(P.a,null),SettingOutlined:u.a.createElement(j.a,null),RocketOutlined:u.a.createElement(R.a,null)};var G=function(e){var t=e.icon;return _[t]?_[t]:_.RocketOutlined},Y=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getOpenKeys=function(e){if(!e)return[];for(var t=e.split("/").map((function(e){return"/".concat(e)})),n="",a=[],o=1,l=t.length-1;o<l;o++)n+=t[o],a.push(n);return a},a.onOpenChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;if(t<2)a.setState({openKeys:e});else{var n=e[t-1];n.includes(e[0])?a.setState({openKeys:e}):a.setState({openKeys:[n]})}},a.renderMenuItem=function(e){var t=e.key,n=e.icon,a=e.title;return u.a.createElement(y.a.Item,{key:t},u.a.createElement(A.b,{to:t},n&&u.a.createElement(G,{icon:n}),u.a.createElement("span",null,a)))},a.renderSubMenu=function(e){var t=e.key,n=e.icon,o=e.title,l=e.subs,r=Object(D.a)(a),c=r.renderMenuItem,i=r.renderSubMenu;return u.a.createElement(y.a.SubMenu,{key:t,title:u.a.createElement("span",null,n&&u.a.createElement(G,{icon:n}),u.a.createElement("span",null,o))},l&&l.map((function(e){return e.subs&&e.subs.length>0?i(e):c(e)})))},a.state={openKeys:[],selectedKeys:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;this.setState({selectedKeys:[e],openKeys:this.getOpenKeys(e)})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.location.pathname;e.location.pathname!==n&&this.setState({selectedKeys:[n],openKeys:this.getOpenKeys(n)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.openKeys,a=t.selectedKeys,o=this.renderMenuItem,l=this.renderSubMenu;return u.a.createElement(y.a,{mode:"inline",theme:"dark",openKeys:n,selectedKeys:a,onClick:function(t){var n=t.key;return e.setState({selectedKeys:[n]})},onOpenChange:this.onOpenChange},this.props.menu&&this.props.menu.map((function(e){var t=e.subs;return t&&t.length>0?l(e):o(e)})))}}]),n}(i.Component),q=Object(s.g)(Y),z=p.a.Sider;var Q=function(e){var t=e.menuToggle,n=e.menu;return u.a.createElement(z,{trigger:null,className:"app-side",collapsible:!0,collapsed:t},u.a.createElement("div",{className:"side-logo"},u.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/niexias",target:"_blank"},u.a.createElement(N.a,null))),u.a.createElement(q,{menu:n}))},V=p.a.Footer;var W=function(){return u.a.createElement(V,{className:"app-footer"},"react-ant-admin \xa9 2020-",(new Date).getFullYear()," Created by niexias")},X=n(7),Z=Object(X.a)((function(){return n.e(3).then(n.bind(null,360))})),$=[{path:"/index",exact:!0,name:"Index",component:Z,auth:[1]},{path:"/public/button",exact:!1,name:"\u6309\u94ae",component:Z,auth:[1]},{path:"/public/icon",exact:!1,name:"\u56fe\u6807",component:Z,auth:[1]},{path:"/nav/dropdown",exact:!1,name:"\u4e0b\u62c9\u83dc\u5355",component:Z},{path:"/nav/menu",exact:!1,name:"\u4e0b\u62c9\u83dc\u5355",component:Z},{path:"/nav/steps",exact:!1,name:"\u6b65\u9aa4\u6761",component:Z},{path:"/form/base-form",exact:!1,name:"\u8868\u5355",component:Z},{path:"/form/step-form",exact:!1,name:"\u8868\u5355",component:Z},{path:"/show/table",exact:!1,name:"\u8868\u683c",component:Z},{path:"/show/collapse",exact:!1,name:"\u6298\u53e0\u9762\u677f",component:Z},{path:"/show/tree",exact:!1,name:"\u6811\u5f62\u63a7\u4ef6",component:Z},{path:"/show/tabs",exact:!1,name:"\u6807\u7b7e\u9875",component:Z},{path:"/others/progress",exact:!1,name:"\u8fdb\u5ea6\u6761",component:Z,auth:[1]},{path:"/others/animation",exact:!1,name:"\u52a8\u753b",component:Z,auth:[1]},{path:"/others/editor",exact:!1,name:"\u5bcc\u6587\u672c",component:Z,auth:[1]},{path:"/others/upload",exact:!1,name:"\u4e0a\u4f20",component:Z,auth:[1]},{path:"/one/two/three",exact:!1,name:"\u4e09\u7ea7",component:Z},{path:"/about",exact:!1,name:"\u5173\u4e8e",component:Z,auth:[1]}],ee=p.a.Content,te=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var l;return Object(o.a)(this,n),(l=t.call(this,e)).checkLogin=function(){l.getLoginInfo()?l.setState({menu:l.genMenu(b)}):l.goToLogin()},l.loginOut=function(){localStorage.removeItem("loginInfo"),l.goToLogin(),h.a.success("\u9000\u51fa\u6210\u529f")},l.goToLogin=function(){l.props.history.push("/login")},l.getLoginInfo=function(){return JSON.parse(localStorage.getItem("loginInfo"))||{}},l.genMenu=function(e){var t=l.getLoginInfo().auth;if(!t)return e;return e.filter((function(e){var n=e.auth;return!(void 0===n?[]:n).includes(t)&&(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};t&&t.subs&&t.subs.length>0&&(t.subs=t.subs.concat(),t.subs=t.subs.filter((function(e){return a(n,e)})),t.subs.forEach((function(t){return e(t,n,a)})))}(e=Object(a.a)({},e),t,(function(e,t){return!Array.isArray(t.auth)||t.auth.includes(e)})),!0)}))},l.state={avatarUrl:E.a,menu:[]},l}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.menuClick,n=e.menuToggle,a=this.getLoginInfo().auth,o=this.state,l=o.menu,r=o.avatarUrl;return u.a.createElement(p.a,{className:"app"},u.a.createElement(Q,{collapsible:!0,menuToggle:n,menu:l}),u.a.createElement(p.a,{style:{marginLeft:n?80:200,minHeight:"100vh"}},u.a.createElement(T,{menuToggle:n,menuClick:t,avatar:r,loginOut:this.loginOut}),u.a.createElement(ee,{className:"app-content"},u.a.createElement(s.d,null,$.map((function(e){var t=e.path,n=e.exact,o=e.auth;return u.a.createElement(s.b,{key:t,path:t,exact:n,render:function(t){return!a||o&&o.includes(a)?u.a.createElement(e.component,t):u.a.createElement(s.a,Object.assign({to:"/404"},t))}})})),u.a.createElement(s.a,{to:"/404"}))),u.a.createElement(W,null)),u.a.createElement(d.a,null))}}]),n}(i.Component);t.default=Object(s.g)(Object(m.b)((function(e){return{menuToggle:e.menuToggle}}),(function(e){return{menuClick:function(){e({type:g.a})}}}))(te))}}]);
//# sourceMappingURL=layout.dd0f2176.chunk.js.map